<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="product_history_report" language="groovy" pageWidth="612" pageHeight="792" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="ea7604b9-746f-4711-a77c-ea716ab185f0">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="start_date" class="java.util.Date">
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="end_date" class="java.util.Date">
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="temp_table_name" class="java.lang.String">
		<defaultValueExpression><![CDATA["temp_product_report"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[
WITH business AS (
    SELECT business_name, street_address, city, state, zip_code, phone
    FROM business_info
    LIMIT 1
)
SELECT
    b.business_name,
    b.street_address,
    b.city,
    b.state,
    b.zip_code,
    b.phone,
    tr.product_id,
    tr.product_name,
    tr.amount,
    tr.unit,
    tr.total_acres
FROM business b
CROSS JOIN $P!{temp_table_name} tr
ORDER BY tr.product_name
		]]>
	</queryString>
	<field name="business_name" class="java.lang.String"/>
	<field name="street_address" class="java.lang.String"/>
	<field name="city" class="java.lang.String"/>
	<field name="state" class="java.lang.String"/>
	<field name="zip_code" class="java.lang.String"/>
	<field name="phone" class="java.lang.String"/>
	<field name="product_id" class="java.lang.String"/>
	<field name="product_name" class="java.lang.String"/>
	<field name="amount" class="java.math.BigDecimal"/>
	<field name="unit" class="java.lang.String"/>
	<field name="total_acres" class="java.math.BigDecimal"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="96" splitType="Stretch">
			<staticText>
				<reportElement x="461" y="6" width="104" height="52" forecolor="#E6E6E6" uuid="016e0913-fdcb-4227-bf9e-3327a6fc9c69"/>
				<box>
					<pen lineColor="#FFFFFF"/>
					<topPen lineColor="#FFFFFF"/>
					<leftPen lineColor="#FFFFFF"/>
					<bottomPen lineColor="#FFFFFF"/>
					<rightPen lineColor="#FFFFFF"/>
				</box>
				<textElement>
					<font size="28" isBold="true"/>
				</textElement>
				<text><![CDATA[Report]]></text>
			</staticText>
			<staticText>
				<reportElement x="461" y="58" width="40" height="15" uuid="017e0914-fdcb-4227-bf9e-3327a6fc9c70"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Date:]]></text>
			</staticText>
			<textField pattern="MM/dd/yyyy">
				<reportElement x="501" y="58" width="64" height="15" uuid="018e0915-fdcb-4227-bf9e-3327a6fc9c71"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="461" y="73" width="40" height="15" uuid="019e0916-fdcb-4227-bf9e-3327a6fc9c72"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Time:]]></text>
			</staticText>
			<textField pattern="HH:mm:ss">
				<reportElement x="501" y="73" width="64" height="15" uuid="020e0917-fdcb-4227-bf9e-3327a6fc9c73"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="5" y="19" width="400" height="26" uuid="0cf9bcd7-c7a1-4af6-b489-9cc8eac3fd9e"/>
				<textElement>
					<font size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{business_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="5" y="45" width="400" height="15" uuid="06791330-a087-4258-9431-9fab9d340a64"/>
				<textElement>
					<font size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{street_address}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="5" y="60" width="400" height="15" uuid="1af2ea39-6151-4995-abe9-a020be4c5aaf"/>
				<textElement>
					<font size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{city} + ", " + $F{state} + " " + $F{zip_code}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="5" y="75" width="400" height="15" uuid="ad6f295d-457c-4373-bc23-330fe8a5bdeb"/>
				<textElement>
					<font size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{phone}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="27" splitType="Stretch">
			<textField>
				<reportElement x="5" y="5" width="180" height="20" uuid="a1b2c3d4-e5f6-4a5b-8c7d-9e8f7a6b5c4d"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Start Date: " + $P{start_date}.format('MM/dd/yyyy')]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="190" y="5" width="180" height="20" uuid="b2c3d4e5-f6a7-5b6c-9d8e-0f1a2b3c4d5e"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["End Date: " + $P{end_date}.format('MM/dd/yyyy')]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<rectangle>
				<reportElement x="0" y="0" width="555" height="20" backcolor="#99CCFF" uuid="49a0b3ef-5731-4d9b-bd78-d2fc4f5747dc"/>
			</rectangle>
			<staticText>
				<reportElement x="5" y="0" width="300" height="20" uuid="72d9d6f0-60d4-431d-aa42-c0fe75b9e44c"/>
				<textElement verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Product Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="310" y="0" width="100" height="20" uuid="c5682a9c-cc69-4caa-a89a-2a9b5d48f60f"/>
				<textElement verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Amount (Standardized)]]></text>
			</staticText>
			<staticText>
				<reportElement x="415" y="0" width="60" height="20" uuid="d679e7ad-dd7a-4dbb-b9ab-3b9c6d59f71e"/>
				<textElement verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Unit]]></text>
			</staticText>
			<staticText>
				<reportElement x="480" y="0" width="100" height="20" uuid="e790f8be-ee8b-4ecc-c0bc-4c0d7e60f82e"/>
				<textElement verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Total Acres]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement x="5" y="5" width="300" height="14" uuid="72d9d6f0-60d4-431d-aa42-c0fe75b9e44c"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{product_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="310" y="5" width="100" height="14" uuid="c5682a9c-cc69-4caa-a89a-2a9b5d48f60f"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{amount}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="415" y="5" width="60" height="14" uuid="d679e7ad-dd7a-4dbb-b9ab-3b9c6d59f71e"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{unit}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="480" y="5" width="100" height="14" uuid="e790f8be-ee8b-4ecc-c0bc-4c0d7e60f82e"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{total_acres}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch">
			<staticText>
				<reportElement x="5" y="5" width="550" height="15" uuid="f1a2b3c4-d5e6-7f8a-9b0c-1d2e3f4a5b6c"/>
				<textElement>
					<font size="8" isItalic="true"/>
				</textElement>
				<text><![CDATA[* Volume products converted to gallons (gal), Weight products converted to pounds (lbs)]]></text>
			</staticText>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
